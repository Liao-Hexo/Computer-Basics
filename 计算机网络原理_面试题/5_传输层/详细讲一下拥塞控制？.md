拥塞控制和流量控制不同，前者是一个全局性的过程，而后者指点对点通信量的 控制。在某段时间，若对网络中某资源的需求超过 了该资源所能提供的可用部分，网络的性能就要变坏。这种情况就叫拥塞。

拥塞控制就是为了防止过多的数据注入到网络中，这样就可以使网络中的路由器或链路不致于过载。拥塞控制所要做的都有一个前提，就是网络能够承受现有的网络负荷。拥塞控制是-一个全局性的过程，涉及到所有的主机，所有的路由器，以及与降低网络传输性能有关的所有因素。相反，流量控制往往是点对点通信量的控制，是个端到端的问题。流量控制所要做到的就是抑制发送端发送数据的速率，以便使接收端来得及接收。

发送方维持一个叫做拥塞窗口cwnd（congestion window）的状态变量。

TCP 一共使用了四种算法来实现拥塞控制：

* 慢开始 (slow-start)；
* 拥塞避免 (congestion avoidance)；
* 快速重传 (fast retransmit)；
* 快速恢复 (fast recovery)。

慢开始：不要一开始就发送大量的数据，由小到大逐渐增加拥塞窗口的大小。

拥塞避免：拥塞避免算法让拥塞窗口缓慢增长，即每经过一个往返时间RTT就把发送方的拥塞窗口cwnd加1而不是加倍。这样拥塞窗口按线性规律缓慢增长。

快重传：我们可以剔除一些不必要的拥塞报文，提高网络吞吐量。比如接收方在收到一个失序的报文段后就立即发出重复确认，而不要等到自己发送数据时捎带确认。快重传规定：发送方只要一连收到三个重复确认就应当立即重传对方尚未收到的报文段，而不必继续等待设置的重传计时器时间到期。

![](https://tva1.sinaimg.cn/large/008i3skNly1gt3rm9r8x7j30x80fmjte.jpg)

快恢复：主要是配合快重传。当发送方连续收到三个重复确认时，就执行“乘法减小”算法，把ssthresh门限减半（为了预防网络发生拥塞），但接下来并不执行慢开始算法，因为如果网络出现拥塞的话就不会收到好几个重复的确认，收到三个重复确认说明网络状况还可以。

![](https://tva1.sinaimg.cn/large/008i3skNly1gt3rq6tu5sj30ya0de760.jpg)

