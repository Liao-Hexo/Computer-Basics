电路交换、报文交换、分组交换：

如何使数据通过网络核心(路由器)从源主机到目的主机？——数据交换

为什么要数据交换：
![](https://tva1.sinaimg.cn/large/008eGmZEly1gosjekpeo8j312a0fcn56.jpg)

数据交换方式：
1）电路交换
2）报文交换
3）分组交换：数据报方式、虚电路方式

—————————————

电路交换：电话网络(多路复用)

电路交换的阶段：
1）建立连接（呼叫/电路建立）
2）通信
3）释放连接（拆除电路）

特点：独占资源

优点：通信时延小、有序传输、没有冲突、实时性强

缺点：建立连接时间长、线路独占，使用效率低、灵活性差、无差错控制能力

—————————————

报文交换：

报文：源应用发送的信息整体
![](https://tva1.sinaimg.cn/large/008eGmZEly1gosjeyl2ofj30xy063773.jpg)

优点：
1）无需建立连接
2）存储转发，动态分配线路
3）线路可靠性较高
4）线路利用率较高
5）多目标服务

缺点：
1）有存储转发时延
2）报文大小不定，需要网络节点有较大缓存空间

—————————————

分组交换：

分组：把大的数据块分割成小的数据块
![](https://tva1.sinaimg.cn/large/008eGmZEly1gosjfnqa67j30wt064q56.jpg)

优点：
1）无需建立连接
2）存储转发，动态分配线路
3）线路可靠性较高
4）线路利用率较高
5）相对于报文交换，存储管理更容易

缺点：
1）有存储转发时延
2）需要传输额外的信息量
3）乱序到目的主机时，要对分组排序重组

![](https://tva1.sinaimg.cn/large/008eGmZEly1gosjfztu79j31330ge46c.jpg)

————————————————

数据报方式为网络层提供无连接服务【无连接服务：不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同】【每个分组携带源和目的地址】【路由器根据分组的目的地址转发分组：基于路由协议/算法构建转发表；检索转发表；每个分组独立选路】
![](https://tva1.sinaimg.cn/large/008eGmZEly1gosjgapxlfj30qe0c678k.jpg)

虚电路方式为网络层提供连接服务【连接服务：首先为分组的传输确定传输路径(建立连接)，然后沿该路径(连接)传输系列分组，系列分组传输路径相同，传输结束后拆除连接】

虚电路将数据报方式和电路交换方式结合，以发挥两者优点

虚电路：一条源主机到目的主机类似于电路的路径（逻辑连接），路径上所有的结点都要维持这条虚电路的建立，都维持一张虚电路表，每一项纪录了一个打开的虚电路信息

通信过程：
1）建立连接（虚电路建立）：每个分组携带虚电路号，而非目的地址，源主机发送“呼叫请求”分组并收到“呼叫应答”分组后才算建立连接
2）数据传输（全双工通信）
3）释放连接（虚电路释放）：源主机发送“释放请求”分组以拆除虚电路

![](https://tva1.sinaimg.cn/large/008eGmZEly1gosjh0y8ioj310c0e8wm8.jpg)
![](https://tva1.sinaimg.cn/large/008eGmZEly1gosjhnh4wuj30g806y3z8.jpg)

